# test_rpc
测试 grpc

gRPC 基于 HTTP2 标准设计，所以相对于其他 RPC 框架，gRPC 带来了更多强大功能，如双向流、头部压缩、多复用请求等。

 rpc 入参和出参都可实现流式或非流式，进而排列组合形成四种常用的 gRPC 模式。
（1）简单 RPC
即客户端发起一次请求，服务端进行响应（类似 restful api）。这种模式下，rpc 调用和本地函数基本相同，常常用于登陆验证，握手协议，简单业务等。

（2）客户端流 RPC
即客户端流式发送请求，有序发送很多 req 包（如，文件流上传），server 接收到所有的 req 包后会检测到 EOF，回发一个 res 并关闭连接。比如云计算应用，客户端传输众多基础数据，等待服务端计算完成并返回结果。

（3）服务端流 RPC
即客户端发起一次请求，服务端回发很多 res 包（如，文件流下载），server 发送完成后关闭连接。常用于数据的拉取，如，请求大量数据，无法及时进行反馈，进而通过流式进行反馈。

（4）双端流 RPC
即双方对话，可以实现一问一答，一问多答，多问一答等，常用于聊天室等及时通讯业务。
